<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Technische Analyse · API & Tool-Stack</title>
<meta name="description" content="API-Analyse von Leapsome und Personio, Tool-Stack für die Automatisierung und offene Fragen vor der Umsetzung.">
<link rel="stylesheet" href="styles.css">
<style>
  /* KEY INSIGHT */
  .key-insight {
    background: var(--green-deep);
    color: #e8f0eb;
    border-radius: 12px;
    padding: 26px 28px;
    margin-bottom: 36px;
    box-shadow: var(--sh-m);
  }
  .key-insight .ki-label {
    font-size: 10px;
    letter-spacing: 0.14em;
    text-transform: uppercase;
    opacity: 0.6;
    margin-bottom: 12px;
  }
  .key-insight .ki-title {
    font-family: 'Instrument Serif', serif;
    font-style: italic;
    font-size: 20px;
    font-weight: 400;
    line-height: 1.3;
    margin-bottom: 12px;
  }
  .key-insight .ki-body {
    font-size: 14px;
    line-height: 1.7;
    opacity: 0.85;
  }

  /* API REALITY GRID */
  .reality-grid {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 12px;
    margin-bottom: 36px;
  }
  .reality-card {
    background: var(--s2);
    border: 1px solid var(--border);
    border-radius: 10px;
    padding: 18px 20px;
    box-shadow: var(--sh);
  }
  .reality-card .rc-header {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-bottom: 12px;
  }
  .rc-icon {
    width: 24px; height: 24px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 11px;
    flex-shrink: 0;
  }
  .rc-yes  { background: var(--green-l); color: var(--green); }
  .rc-no   { background: var(--red-l);   color: var(--red); }
  .rc-warn { background: var(--amber-l); color: var(--amber); }

  .rc-tool-name {
    font-size: 12px;
    font-weight: 700;
    color: var(--text);
    letter-spacing: 0.03em;
  }
  .reality-card ul {
    list-style: none;
    display: flex;
    flex-direction: column;
    gap: 6px;
  }
  .reality-card li {
    font-size: 12px;
    color: var(--text2);
    padding-left: 16px;
    position: relative;
    line-height: 1.55;
  }
  .reality-card li::before {
    position: absolute; left: 0; top: 2px; font-size: 10px;
  }
  .reality-card li.yes::before  { content: '✓'; color: var(--green); }
  .reality-card li.no::before   { content: '✗'; color: var(--red); }
  .reality-card li.warn::before { content: '~'; color: var(--amber); }

  /* TOOL STACK */
  .tool-stack {
    background: var(--s2);
    border: 1px solid var(--border);
    border-radius: 10px;
    overflow: hidden;
    box-shadow: var(--sh);
    margin-bottom: 36px;
  }
  .ts-row {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    padding: 16px 20px;
    border-bottom: 1px solid var(--border);
  }
  .ts-row:last-child { border-bottom: none; }
  .ts-icon {
    font-size: 10.5px;
    font-weight: 600;
    padding: 4px 10px;
    border-radius: 5px;
    flex-shrink: 0;
    min-width: 84px;
    text-align: center;
    margin-top: 1px;
  }
  .ts-n8n     { background: #ff633312; color: #cc4400; border: 1px solid #ff633322; }
  .ts-leapapi { background: var(--blue-l); color: var(--blue); border: 1px solid var(--blue-m); }
  .ts-perapi  { background: var(--green-l); color: var(--green); border: 1px solid var(--green-m); }
  .ts-docx    { background: var(--brown-l); color: var(--brown); border: 1px solid rgba(107,80,48,0.15); }
  .ts-slack   { background: var(--purple-l); color: var(--purple); border: 1px solid var(--purple-m); }

  .ts-body { flex: 1; }
  .ts-title { font-weight: 700; font-size: 14px; margin-bottom: 4px; }
  .ts-desc  { font-size: 12.5px; color: var(--text2); line-height: 1.65; }

  /* OPEN QUESTIONS */
  .open-qs {
    background: var(--amber-l);
    border: 1px solid var(--amber-m);
    border-radius: 10px;
    padding: 18px 20px;
    margin-bottom: 36px;
  }
  .open-qs .oq-label {
    font-size: 10px;
    letter-spacing: 0.12em;
    text-transform: uppercase;
    color: var(--amber);
    margin-bottom: 12px;
    font-weight: 700;
  }
  .open-qs ul { list-style: none; display: flex; flex-direction: column; gap: 8px; }
  .open-qs li {
    font-size: 13.5px; color: var(--text2);
    padding-left: 18px; position: relative; line-height: 1.6;
  }
  .open-qs li::before {
    content: '?'; position: absolute; left: 0; color: var(--amber);
    font-weight: 700; font-size: 12px; top: 1px;
  }

  .next-step {
    background: var(--green-l);
    border: 1px solid var(--green-m);
    border-radius: 10px;
    padding: 18px 20px;
    font-size: 13.5px;
    color: var(--text2);
    line-height: 1.65;
  }
  .next-step strong { color: var(--green); font-weight: 700; }

  @media(max-width:560px) {
    .reality-grid { grid-template-columns: 1fr; }
    .ts-row { flex-direction: column; gap: 8px; }
    .ts-icon { min-width: auto; }
  }
</style>
</head>
<body>

<nav class="site-nav">
  <div class="nav-inner">
    <a href="index.html" class="nav-brand">Avec <em>Chaleur</em></a>
    <ul class="nav-links" id="navLinks">
      <li><a href="index.html">Start</a></li>
      <li><a href="vergleich.html">Vergleich</a></li>
      <li><a href="technische-analyse.html" class="is-active">Technische Analyse</a></li>
      <li><a href="enterprise.html">Enterprise</a></li>
    </ul>
    <button class="nav-toggle" onclick="document.getElementById('navLinks').classList.toggle('is-open')" aria-label="Menu">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
    </button>
  </div>
</nav>

<div class="wrap">

  <!-- HEADER -->
  <header style="margin-bottom:36px">
    <div class="eyebrow">Avec Chaleur · Technische Analyse · Feb 2026</div>
    <h1>API-Realität &<br><em>Tool-Stack</em></h1>
    <p class="subtitle">Was können Leapsome und Personio wirklich — und wie sieht der technische Stack für die Automatisierung aus?</p>
  </header>

  <!-- KEY INSIGHT -->
  <div class="key-insight">
    <div class="ki-label">Kernbefund nach API-Analyse</div>
    <div class="ki-title">Die Verbindung existiert bereits — sie wird nur nicht genutzt</div>
    <div class="ki-body">
      Leapsome und Personio haben eine <strong>native bidirektionale Integration</strong>. Personio ist die Datenquelle (Gehalt, Name, Adresse, Gesellschaft), Leapsome liest diese Daten automatisch ein — alle 6 Stunden. Die Personio API v2 erlaubt außerdem das programmatische <strong>Erstellen von Compensation-Einträgen</strong> und das <strong>Hochladen von Dokumenten</strong>. Das bedeutet: Der Prozess kann auf 1 menschliche Entscheidung reduziert werden — alles andere ist automatisierbar.
    </div>
  </div>

  <!-- API REALITY -->
  <div class="sec-label">Was die APIs wirklich können</div>

  <div class="reality-grid">
    <div class="reality-card">
      <div class="rc-header">
        <div class="rc-icon rc-yes">✓</div>
        <span class="rc-tool-name">Leapsome API</span>
      </div>
      <ul>
        <li class="yes">Review-Daten per Content API auslesen (GET)</li>
        <li class="yes">Completion-Timestamps abrufbar (wann signiert)</li>
        <li class="yes">Notizfelder aus Reviews auslesbar</li>
        <li class="yes">SCIM API für User-Daten (inkl. Gesellschaft)</li>
        <li class="warn">Kein nativer Webhook bei Notiz-Befüllung</li>
        <li class="no">Kein Write-Back in Reviews per API</li>
      </ul>
    </div>
    <div class="reality-card">
      <div class="rc-header">
        <div class="rc-icon rc-yes">✓</div>
        <span class="rc-tool-name">Personio API v2</span>
      </div>
      <ul>
        <li class="yes">GET employee: Name, Adresse, Gehalt, Gesellschaft</li>
        <li class="yes">POST /v2/compensations: Gehaltsänderung anlegen</li>
        <li class="yes">POST /v1/company/documents: PDF hochladen</li>
        <li class="yes">Webhooks: employee.updated, employment.started</li>
        <li class="warn">fix_salary per PATCH-Employee nicht schreibbar (nur v2/compensations)</li>
        <li class="warn">Salary-Sync Personio→Leapsome muss manuell aktiviert werden</li>
      </ul>
    </div>
    <div class="reality-card">
      <div class="rc-header">
        <div class="rc-icon rc-warn">~</div>
        <span class="rc-tool-name">Leapsome Compensation</span>
      </div>
      <ul>
        <li class="yes">Eigenes Compensation-Modul mit Approval-Workflow</li>
        <li class="yes">Verknüpfung mit Review-Ergebnissen möglich</li>
        <li class="yes">Proposals mit strukturierter Freigabe durch Führungskraft</li>
        <li class="warn">Nach Freigabe: neues Gehalt muss manuell in Personio übertragen werden (kein Auto-Sync zurück)</li>
        <li class="no">Komplett neuer Prozess — erfordert Umstieg</li>
      </ul>
    </div>
    <div class="reality-card">
      <div class="rc-header">
        <div class="rc-icon rc-yes">✓</div>
        <span class="rc-tool-name">n8n (Orchestrierung)</span>
      </div>
      <ul>
        <li class="yes">Native Leapsome + Personio Nodes</li>
        <li class="yes">Self-hosted: volle Datenkontrolle</li>
        <li class="yes">Scheduled polling (ersetzt fehlenden Webhook)</li>
        <li class="yes">Docx-Generierung direkt in Workflow</li>
        <li class="yes">Approval per E-Mail / Slack mit Callback</li>
        <li class="yes">Günstig: ~20€/mo self-hosted</li>
      </ul>
    </div>
  </div>

  <!-- TOOL STACK -->
  <div class="sec-label">Tool-Stack · Warum nur n8n</div>

  <div class="tool-stack">
    <div class="ts-row">
      <span class="ts-icon ts-n8n">n8n</span>
      <div class="ts-body">
        <div class="ts-title">n8n — Orchestrierung des gesamten Prozesses</div>
        <div class="ts-desc">Steuert alle API-Calls, das Polling, die Dokumentengenerierung und den Approval-Flow. Self-hosted auf eurem Server oder VPS (~20€/mo). Keine Daten verlassen eure Infrastruktur. Einmal aufgebaut, läuft es ohne Wartung.</div>
      </div>
    </div>
    <div class="ts-row">
      <span class="ts-icon ts-leapapi">Leapsome API</span>
      <div class="ts-body">
        <div class="ts-title">Content API — Review-Daten auslesen</div>
        <div class="ts-desc">API-Token unter Settings → Integrations → API Access generieren. n8n pollt täglich. Kein Webhook nötig, täglicher Rhythmus reicht für diesen Prozess.</div>
      </div>
    </div>
    <div class="ts-row">
      <span class="ts-icon ts-perapi">Personio API</span>
      <div class="ts-body">
        <div class="ts-title">v1 + v2 API — Lesen, Schreiben, Hochladen</div>
        <div class="ts-desc">v1: Mitarbeiterdaten lesen, Dokument hochladen. v2: Compensation anlegen. OAuth2 Credentials unter Settings → Integrations → API. Wichtig: Salary-Felder in den API Credentials explizit freischalten.</div>
      </div>
    </div>
    <div class="ts-row">
      <span class="ts-icon ts-docx">Docxtemplater</span>
      <div class="ts-body">
        <div class="ts-title">Dokumentengenerierung — Word-Vorlagen befüllen</div>
        <div class="ts-desc">Bestehende Word-Vorlagen werden einmalig mit Platzhaltern versehen ({{name}}, {{gehalt_neu}} etc.). n8n befüllt sie per Node automatisch und konvertiert zu PDF. Kein neues Tool — nur eine angepasste Vorlage.</div>
      </div>
    </div>
    <div class="ts-row">
      <span class="ts-icon ts-slack">Slack / Mail</span>
      <div class="ts-body">
        <div class="ts-title">Approval-Kanal — strukturierte Freigabe</div>
        <div class="ts-desc">Entweder per E-Mail mit Approval-Link (n8n built-in) oder per Slack mit Ja/Nein-Button. Die Entscheidung sollte davon abhängen, was Harald täglich nutzt.</div>
      </div>
    </div>
  </div>

  <!-- OPEN QUESTIONS -->
  <div class="open-qs">
    <div class="oq-label">Offene Fragen vor Umsetzung</div>
    <ul>
      <li>Nutzt ihr Leapsome Compensation bereits — oder nur das Review-Modul für Gehaltsnotizen?</li>
      <li>Wie ist das Notizfeld im Review strukturiert? Freitext oder gibt es ein definiertes Feld mit neuem Gehalt + Datum?</li>
      <li>Gibt es mehrere Gesellschaften mit unterschiedlichen Vorlagen — und wie viele?</li>
      <li>Soll der Mitarbeiter nach Freigabe aktiv benachrichtigt werden (Personio-Notification) oder reicht der Dokument-Upload?</li>
      <li>Liegt das Netzlaufwerk auf einem Server, auf den n8n Zugriff haben kann (SMB/SFTP)?</li>
      <li>Nutzt Harald Outlook oder Slack — welcher Kanal hat höhere Aufmerksamkeit?</li>
    </ul>
  </div>

  <div class="next-step">
    <strong>Nächster Schritt:</strong> Diese offenen Fragen klären, dann kann der n8n-Workflow direkt gebaut werden. Der Aufwand für die initiale Einrichtung liegt realistisch bei 1–2 Tagen.
  </div>

</div>

</body>
</html>
